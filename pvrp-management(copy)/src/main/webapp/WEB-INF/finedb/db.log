/*C13*/SET SCHEMA PUBLIC
CONNECT USER SA
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
CONNECT USER SA
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C16*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C17*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C18*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C19*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C20*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C21*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C22*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C23*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C24*/SET SCHEMA PUBLIC
CONNECT USER SA
SET LOGSIZE 2
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
/*C23*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
/*C24*/SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
/*C23*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
/*C24*/SET AUTOCOMMIT TRUE
/*C25*/SET SCHEMA PUBLIC
CONNECT USER SA
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
/*C27*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
/*C26*/SET AUTOCOMMIT TRUE
/*C27*/SET AUTOCOMMIT TRUE
/*C23*/SET AUTOCOMMIT FALSE
CREATE TABLE FR_REPORT_PROCESS_TASK(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),name VARCHAR(1024) NOT NULL,processId BIGINT NOT NULL,creatorId BIGINT NOT NULL,issueControl VARCHAR(1024) NULL,deadLineDate INTEGER NULL,deadLineType CHAR NULL,remindControl VARCHAR(255) NULL,createTime TIMESTAMP NOT NULL,issueOver BOOLEAN NOT NULL,parentId BIGINT NULL,creatorName VARCHAR(1024) NOT NULL,leapfrogBack BOOLEAN NOT NULL,PRIMARY KEY (id))
SET AUTOCOMMIT TRUE
/*C24*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
/*C23*/SET AUTOCOMMIT FALSE
CREATE TABLE FR_PROCESS_TASK_IMPL(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),taskId BIGINT NOT NULL,processId BIGINT NOT NULL,operatorJSON VARCHAR(1024) NOT NULL,reportOffset TINYINT NOT NULL,operatorOffset BIGINT NOT NULL,needAllComplete BOOLEAN NOT NULL,currentNodeIdx TINYINT NOT NULL,createTime TIMESTAMP NULL,note LONGVARCHAR NULL,state TINYINT NOT NULL,sonTaskId VARCHAR(255) NULL,sendTime TIMESTAMP NULL,senderId BIGINT NOT NULL,completeState VARCHAR(1024) NOT NULL,parentId BIGINT NULL,nodeRoute VARCHAR(1024) NULL,alerted BOOLEAN NOT NULL,deadLine TIMESTAMP NULL,sender VARCHAR(1024) NOT NULL,operatorOffsetName VARCHAR(1024) NULL,frTaskId BIGINT NOT NULL,PRIMARY KEY (id))
SET AUTOCOMMIT TRUE
/*C24*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
CREATE TABLE FR_T_User(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),username VARCHAR(60) NOT NULL,password VARCHAR(255) NOT NULL,realname VARCHAR(60) NOT NULL,mobile VARCHAR(20) NULL,email VARCHAR(127) NULL,PRIMARY KEY (id), unique (username))
CREATE TABLE FR_T_CustomRole(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),rolename VARCHAR(63) NOT NULL,description VARCHAR(255) NULL,PRIMARY KEY (id), unique (rolename))
CREATE TABLE FR_T_Post(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),postname VARCHAR(63) NOT NULL,description VARCHAR(255) NULL,PRIMARY KEY (id), unique (postname))
CREATE TABLE FR_T_PlatformManageModule(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),parentId BIGINT NOT NULL,name VARCHAR(63) NOT NULL,description VARCHAR(255) NULL,priority INTEGER NULL,PRIMARY KEY (id), unique (name))
CREATE TABLE FR_T_HomePage(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),name VARCHAR(63) NOT NULL,url VARCHAR(255) NOT NULL,url4Pad VARCHAR(255) NOT NULL,url4Phone VARCHAR(255) NOT NULL,description VARCHAR(255) NULL,sortindex BIGINT NULL,PRIMARY KEY (id), unique (name))
CREATE TABLE FR_T_Department(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),pid BIGINT NOT NULL,name VARCHAR(63) NOT NULL,description VARCHAR(255) NULL,PRIMARY KEY (id))
CREATE TABLE FR_T_CompanyRole(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),postid BIGINT NOT NULL,departmentid BIGINT NOT NULL,description VARCHAR(255) NULL,PRIMARY KEY (id), unique (postid, departmentid))
CREATE TABLE fr_folderentry(id INTEGER GENERATED BY DEFAULT AS IDENTITY (start with 1),parent INTEGER NOT NULL,name VARCHAR(255) NOT NULL,description VARCHAR(255) NULL,sortindex BIGINT NULL,mobileDeviceConfig INTEGER NULL,parentDeviceConfig INTEGER NULL,mobileCoverId VARCHAR(50) NULL,PRIMARY KEY (id))
CREATE TABLE fr_urlentry(id INTEGER GENERATED BY DEFAULT AS IDENTITY (start with 1),parent INTEGER NOT NULL,name VARCHAR(255) NOT NULL,url VARCHAR(255) NOT NULL,description VARCHAR(255) NULL,sortindex BIGINT NULL,mobileDeviceConfig INTEGER NULL,parentDeviceConfig INTEGER NULL,mobileCoverId VARCHAR(50) NULL,PRIMARY KEY (id))
CREATE TABLE fr_reportprocessentry(id INTEGER GENERATED BY DEFAULT AS IDENTITY (start with 1),parent INTEGER NOT NULL,processType INTEGER NOT NULL,name VARCHAR(255) NOT NULL,description VARCHAR(255) NULL,sortindex BIGINT NULL,mobileCoverId VARCHAR(50) NULL,PRIMARY KEY (id))
CREATE TABLE FR_T_CompanyRoleEntryPrivilege(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),roleid BIGINT NOT NULL,type INTEGER NOT NULL,entryid BIGINT NOT NULL,view BIGINT NOT NULL,authorized BIGINT NOT NULL,edit BIGINT NOT NULL,PRIMARY KEY (id), unique (roleid, type, entryid))
CREATE TABLE FR_T_CustomRoleEntryPrivilege(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),roleid BIGINT NOT NULL,type INTEGER NOT NULL,entryid BIGINT NOT NULL,view BIGINT NOT NULL,authorized BIGINT NOT NULL,edit BIGINT NOT NULL,PRIMARY KEY (id), unique (roleid, type, entryid))
CREATE TABLE FR_T_CompanyRoleModulePrivilege(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),roleid BIGINT NOT NULL,moduleid BIGINT NOT NULL,view BIGINT NOT NULL,authorized BIGINT NOT NULL,PRIMARY KEY (id), unique (roleid, moduleid))
CREATE TABLE FR_T_CustomRoleModulePrivilege(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),roleid BIGINT NOT NULL,moduleid BIGINT NOT NULL,view BIGINT NOT NULL,authorized BIGINT NOT NULL,PRIMARY KEY (id), unique (roleid, moduleid))
CREATE TABLE FR_T_CompanyRoleDepAndCRolePrivilege(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),roleid BIGINT NOT NULL,type INTEGER NOT NULL,deporcroleid BIGINT NOT NULL,PRIMARY KEY (id), unique (roleid, type, deporcroleid))
CREATE TABLE FR_T_CustomRoleDepAndCRolePrivilege(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),roleid BIGINT NOT NULL,type INTEGER NOT NULL,deporcroleid BIGINT NOT NULL,PRIMARY KEY (id), unique (roleid, type, deporcroleid))
CREATE TABLE FR_T_CompanyRoleESPrivilege(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),roleid BIGINT NOT NULL,type INTEGER NOT NULL,entryid BIGINT NOT NULL,PRIMARY KEY (id), unique (roleid, type, entryid))
CREATE TABLE FR_T_CustomRoleESPrivilege(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),roleid BIGINT NOT NULL,type INTEGER NOT NULL,entryid BIGINT NOT NULL,PRIMARY KEY (id), unique (roleid, entryid))
CREATE TABLE FR_T_CompanyRoleTemplatePrivilege(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),roleId BIGINT NOT NULL,path VARCHAR(255) NOT NULL,page BIGINT NOT NULL,write BIGINT NOT NULL,design BIGINT NOT NULL,PRIMARY KEY (id), unique (roleId, path))
CREATE TABLE FR_T_CustomRoleTemplatePrivilege(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),roleId BIGINT NOT NULL,path VARCHAR(255) NOT NULL,page BIGINT NOT NULL,write BIGINT NOT NULL,design BIGINT NOT NULL,PRIMARY KEY (id), unique (roleId, path))
CREATE TABLE FR_T_CompanyRoleDataConnectionPrivilege(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),roleId BIGINT NOT NULL,name VARCHAR(255) NOT NULL,view BIGINT NOT NULL,PRIMARY KEY (id), unique (roleId, name))
CREATE TABLE FR_T_CustomRoleDataConnectionPrivilege(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),roleId BIGINT NOT NULL,name VARCHAR(255) NOT NULL,view BIGINT NOT NULL,PRIMARY KEY (id), unique (roleId, name))
CREATE TABLE FR_T_CompanyRoleHomePagePrivilege(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),roleid BIGINT NOT NULL,homepageid BIGINT NOT NULL,view BIGINT NOT NULL,PRIMARY KEY (id), unique (roleid, homepageid))
CREATE TABLE FR_T_CustomRoleHomePagePrivilege(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),roleid BIGINT NOT NULL,homepageid BIGINT NOT NULL,view BIGINT NOT NULL,PRIMARY KEY (id), unique (roleid, homepageid))
CREATE TABLE FR_T_FavoriteNode(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),userid BIGINT NOT NULL,type INTEGER NOT NULL,entryid BIGINT NOT NULL,PRIMARY KEY (id))
CREATE TABLE FR_T_UserEntryNotification(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),username VARCHAR(255) NOT NULL,entryid VARCHAR(255) NOT NULL,PRIMARY KEY (id))
CREATE TABLE FR_T_LoginUser(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),username VARCHAR(20) NOT NULL,loginType INTEGER NULL,PRIMARY KEY (id), unique (username))
CREATE TABLE FR_T_USERDEVICEINFO(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),username VARCHAR(60) NOT NULL,macAddress VARCHAR(60) NOT NULL,deviceName VARCHAR(255) NULL,passed BOOLEAN NOT NULL,PRIMARY KEY (id))
CREATE TABLE FR_T_CustomRole_User(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),Userid BIGINT NOT NULL,CustomRoleid BIGINT NOT NULL,PRIMARY KEY (id), unique (Userid, CustomRoleid))
CREATE TABLE FR_T_Department_Post_User(id BIGINT GENERATED BY DEFAULT AS IDENTITY (start with 1),Userid BIGINT NOT NULL,Departmentid BIGINT NOT NULL,Postid BIGINT NOT NULL,PRIMARY KEY (id), unique (Userid, Departmentid, Postid))
alter table FR_T_CompanyRole add constraint fr_fk_CompanyRole__p foreign key (postid) references FR_T_Post on delete cascade
alter table FR_T_CompanyRole add constraint fr_fk_CompanyRole__d foreign key (departmentid) references FR_T_Department on delete cascade
alter table FR_T_CompanyRoleEntryPrivilege add constraint fr_fk_CompanyRoleEntryPrivilege__r foreign key (roleid) references FR_T_CompanyRole on delete cascade
alter table FR_T_CustomRoleEntryPrivilege add constraint fr_fk_CustomRoleEntryPrivilege__r foreign key (roleid) references FR_T_CustomRole on delete cascade
alter table FR_T_CompanyRoleModulePrivilege add constraint fr_fk_CompanyRoleModulePrivilege__r foreign key (roleid) references FR_T_CompanyRole on delete cascade
alter table FR_T_CustomRoleModulePrivilege add constraint fr_fk_CustomRoleModulePrivilege__r foreign key (roleid) references FR_T_CustomRole on delete cascade
alter table FR_T_CompanyRoleDepAndCRolePrivilege add constraint fr_fk_CompanyRoleDepAndCRolePrivilege__r foreign key (roleid) references FR_T_CompanyRole on delete cascade
alter table FR_T_CustomRoleDepAndCRolePrivilege add constraint fr_fk_CustomRoleDepAndCRolePrivilege__r foreign key (roleid) references FR_T_CustomRole on delete cascade
alter table FR_T_CompanyRoleESPrivilege add constraint fr_fk_CompanyRoleESPrivilege__r foreign key (roleid) references FR_T_CompanyRole on delete cascade
alter table FR_T_CustomRoleESPrivilege add constraint fr_fk_CustomRoleESPrivilege__r foreign key (roleid) references FR_T_CustomRole on delete cascade
alter table FR_T_CompanyRoleTemplatePrivilege add constraint fr_fk_CompanyRoleTemplatePrivilege__r foreign key (roleId) references FR_T_CompanyRole on delete cascade
alter table FR_T_CustomRoleTemplatePrivilege add constraint fr_fk_CustomRoleTemplatePrivilege__r foreign key (roleId) references FR_T_CustomRole on delete cascade
alter table FR_T_CompanyRoleDataConnectionPrivilege add constraint fr_fk_CompanyRoleDataConnectionPrivilege__r foreign key (roleId) references FR_T_CompanyRole on delete cascade
alter table FR_T_CustomRoleDataConnectionPrivilege add constraint fr_fk_CustomRoleDataConnectionPrivilege__r foreign key (roleId) references FR_T_CustomRole on delete cascade
alter table FR_T_CompanyRoleHomePagePrivilege add constraint fr_fk_CompanyRoleHomePagePrivilege__r foreign key (roleid) references FR_T_CompanyRole on delete cascade
alter table FR_T_CustomRoleHomePagePrivilege add constraint fr_fk_CustomRoleHomePagePrivilege__r foreign key (roleid) references FR_T_CustomRole on delete cascade
alter table FR_T_FavoriteNode add constraint fr_fk_FavoriteNode__u foreign key (userid) references FR_T_User on delete cascade
alter table FR_T_CustomRole_User add constraint fr_fk_CustomRole_User__U foreign key (Userid) references FR_T_User on delete cascade
alter table FR_T_CustomRole_User add constraint fr_fk_CustomRole_User__C foreign key (CustomRoleid) references FR_T_CustomRole on delete cascade
alter table FR_T_Department_Post_User add constraint fr_fk_Department_Post_User__U foreign key (Userid) references FR_T_User on delete cascade
alter table FR_T_Department_Post_User add constraint fr_fk_Department_Post_User__D foreign key (Departmentid) references FR_T_Department on delete cascade
alter table FR_T_Department_Post_User add constraint fr_fk_Department_Post_User__P foreign key (Postid) references FR_T_Post on delete cascade
/*C23*/SET AUTOCOMMIT FALSE
INSERT INTO FR_T_PLATFORMMANAGEMODULE VALUES(1,-1,'FS-Module-Platform_Manager','',0)
INSERT INTO FR_T_PLATFORMMANAGEMODULE VALUES(2,1,'FS-Module-Report_Manager','',1)
INSERT INTO FR_T_PLATFORMMANAGEMODULE VALUES(3,1,'FS-Module-User_Manager','',2)
INSERT INTO FR_T_PLATFORMMANAGEMODULE VALUES(18,1,'FS-Module-Privilege_Manager','',3)
INSERT INTO FR_T_PLATFORMMANAGEMODULE VALUES(5,1,'FS-Module-Server_Setting','',5)
INSERT INTO FR_T_PLATFORMMANAGEMODULE VALUES(14,1,'FS-Module-Look_And_Feel','',6)
INSERT INTO FR_T_PLATFORMMANAGEMODULE VALUES(8,1,'FS-Module-Simple_Register','',7)
INSERT INTO FR_T_PLATFORMMANAGEMODULE VALUES(16,1,'FS-Module-Simple_Scheduler','',4)
INSERT INTO FR_T_PLATFORMMANAGEMODULE VALUES(17,1,'FS-Mobile-Mobile_Dev_Binding','',8)
INSERT INTO FR_T_PLATFORMMANAGEMODULE VALUES(19,1,'FS-Module-Plugin_Operate','',9)
INSERT INTO FR_T_PLATFORMMANAGEMODULE VALUES(9,1,'FS-Module-System_Monitor','',10)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO FR_T_DEPARTMENT VALUES(1,-2,'\u6240\u6709\u90e8\u95e8','')
INSERT INTO FR_T_POST VALUES(1,'\u6240\u6709\u804c\u52a1','')
INSERT INTO FR_T_COMPANYROLE VALUES(1,1,1,'')
COMMIT
SET AUTOCOMMIT TRUE
/*C24*/DISCONNECT
/*C22*/SET AUTOCOMMIT FALSE
ALTER TABLE fr_reportprocessentry ADD mobileDeviceConfig INTEGER DEFAULT 7 NULL
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
ALTER TABLE fr_reportprocessentry ADD parentDeviceConfig INTEGER DEFAULT 7 NULL
SET AUTOCOMMIT TRUE
/*C27*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
